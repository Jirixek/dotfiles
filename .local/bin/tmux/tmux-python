#!/bin/sh


SESSION_NAME='python'
SESSION_DIR="${HOME}/Documents/cvut/BI-PYT/semestralka/"

if ! tmux has-session -t "$SESSION_NAME" 2>/dev/null; then
	tmux new-session -s "$SESSION_NAME" -n 'edit' -c "$SESSION_DIR" -d
	tmux send -t "$SESSION_NAME" 'git pull' C-m
	tmux send -t "$SESSION_NAME" 'conda activate snake' C-m

	tmux new-window -t "$SESSION_NAME" -n 'run' -c "$SESSION_DIR"
	tmux send -t "$SESSION_NAME" 'conda activate snake' C-m

	tmux select-window -t "$SESSION_NAME":1
fi

[ "$1" != '-d' ] && tmux attach -t "$SESSION_NAME"
